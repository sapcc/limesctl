# Release Guide

1. Ensure local `master` branch is up to date with `origin/master`.
2. Ensure all checks are passing: `make check`.
3. Update the [`CHANGELOG`](./CHANGELOG.md) as appropriate. Make sure that the format is
   consistent especially the version heading. We follow [semantic versioning][semver] for
   our releases.
4. Commit the updated changelog with message: `Release <version>`
5. Create and push a new Git tag: note that tags are prefixed with `v` and the GitHub
   release workflow is triggered for tags that match the `v[0-9]+.[0-9]+.[0-9]+`
   [pattern][gh-pattern].  A [lightweight tag][lightweight-tags] is sufficient as
   GoReleaser will update the release description using the release notes generated by
   [release-info].

[release-info]: https://github.com/sapcc/go-bits/tree/master/tools/release-info
[lightweight-tags]: https://git-scm.com/book/en/v2/Git-Basics-Tagging#_lightweight_tags
[semver]: https://semver.org/spec/v2.0.0.html
[gh-pattern]: https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#patterns-to-match-branches-and-tags
